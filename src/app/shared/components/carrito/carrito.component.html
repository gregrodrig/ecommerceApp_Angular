<section id="carrito-section" class="carrito-section">
  <h2 class="titulo-principal">Carrito</h2>
  <div *ngIf="products.length === 0 && !showMessage; else carritoVacioTemplate">
    <p id="carrito-vacio" className="carrito-vacio">Tu carrito esta vac√≠o <i class="fa-solid fa-face-frown"></i></p>
  </div>
  <ng-template #carritoVacioTemplate>
    <div id="contenedor-carrito" class="contenedor-carrito">
      <div id="carrito-productos" class="carrito-productos">
        <div class="carrito-producto" *ngFor="let product of products">
          <img class="carrito-producto-imagen" [src]="product.articulo.imagen" alt="" />
          <div class="carrito-producto-titulo">
            <small>Titulo</small>
            <h5>{{ product.articulo.nombre }}</h5>
          </div>
          <div class="carrito-producto-cantidad">
            <small>Cantidad</small>
            <p>{{ product.cantidad }}</p>
          </div>
          <div class="carrito-producto-precio">
            <small>Precio</small>
            <p>$ {{ product.articulo.precio }}</p>
          </div>
          <div class="carrito-producto-subtotal">
            <small>Subtotal</small>
            <p>$ {{ product.articulo.precio * product.cantidad }}</p>
          </div>
          <button [id]="product.articuloId" class="carrito-producto-eliminar"
            (click)="deleteProductCart(product.articuloId)">
            <i class="fas fa-trash"></i>
          </button>
        </div>
        <p *ngIf="showMessage" id="carrito-comprado" class="carrito-comprado">{{ message }}
          <i class="fa-solid fa-face-smile"></i>
        </p>
        <div id="carrito-acciones" class="carrito-acciones ">
          <div class="carrito-acciones-izquierda">
            <button id="carrito-acciones-vaciar" class="carrito-acciones-vaciar" (click)="emptyCarrito()">
              Vaciar carrito
            </button>
          </div>
          <div class="carrito-acciones-derecha">
            <div class="carrito-acciones-total">
              <p>Total:</p>
              <p id="total">{{ totalAPagar | currency:'EUR':true }}</p>
            </div>
            <button id="carrito-acciones-comprar" class="carrito-acciones-comprar" (click)="shopCart(products)">
              Comprar ahora
            </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</section>